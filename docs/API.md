
# üîß –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ API

## üìã –û–±–∑–æ—Ä

–í —ç—Ç–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–µ –æ–ø–∏—Å–∞–Ω—ã –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ API —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞, –≤–∫–ª—é—á–∞—è –º–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–æ–≤, middleware –∏ —É—Ç–∏–ª–∏—Ç.

## üèóÔ∏è –ö–ª–∞—Å—Å App

### –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
```javascript
const app = new App();
```

### –ú–µ—Ç–æ–¥—ã

#### use(middleware)
–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω–æ–µ middleware.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `middleware` (Function): –§—É–Ω–∫—Ü–∏—è middleware

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** App (–¥–ª—è —Ü–µ–ø–æ—á–∫–∏ –≤—ã–∑–æ–≤–æ–≤)

**–ü—Ä–∏–º–µ—Ä:**
```javascript
app.use((req, res, next) => {
  console.log('–ó–∞–ø—Ä–æ—Å –ø–æ–ª—É—á–µ–Ω');
  next();
});
```

#### get(path, handler)
–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è GET-–∑–∞–ø—Ä–æ—Å–æ–≤.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `path` (String): –ü—É—Ç—å –º–∞—Ä—à—Ä—É—Ç–∞
- `handler` (Function): –§—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** App (–¥–ª—è —Ü–µ–ø–æ—á–∫–∏ –≤—ã–∑–æ–≤–æ–≤)

**–ü—Ä–∏–º–µ—Ä:**
```javascript
app.get('/api/users', (req, res) => {
  res.json({ users: [] });
});
```

#### post(path, handler)
–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è POST-–∑–∞–ø—Ä–æ—Å–æ–≤.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `path` (String): –ü—É—Ç—å –º–∞—Ä—à—Ä—É—Ç–∞
- `handler` (Function): –§—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** App (–¥–ª—è —Ü–µ–ø–æ—á–∫–∏ –≤—ã–∑–æ–≤–æ–≤)

#### put(path, handler)
–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è PUT-–∑–∞–ø—Ä–æ—Å–æ–≤.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `path` (String): –ü—É—Ç—å –º–∞—Ä—à—Ä—É—Ç–∞
- `handler` (Function): –§—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** App (–¥–ª—è —Ü–µ–ø–æ—á–∫–∏ –≤—ã–∑–æ–≤–æ–≤)

#### delete(path, handler)
–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è DELETE-–∑–∞–ø—Ä–æ—Å–æ–≤.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `path` (String): –ü—É—Ç—å –º–∞—Ä—à—Ä—É—Ç–∞
- `handler` (Function): –§—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** App (–¥–ª—è —Ü–µ–ø–æ—á–∫–∏ –≤—ã–∑–æ–≤–æ–≤)

#### listen(port, callback)
–ó–∞–ø—É—Å–∫–∞–µ—Ç HTTP-—Å–µ—Ä–≤–µ—Ä.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `port` (Number): –ü–æ—Ä—Ç –¥–ª—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è
- `callback` (Function): –§—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞

**–ü—Ä–∏–º–µ—Ä:**
```javascript
app.listen(3000, () => {
  console.log('–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 3000');
});
```

## üß© –ö–ª–∞—Å—Å Router

### –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
```javascript
const router = new Router();
```

### –ú–µ—Ç–æ–¥—ã

#### register(method, path, handler)
–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –º–∞—Ä—à—Ä—É—Ç.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `method` (String): HTTP-–º–µ—Ç–æ–¥
- `path` (String): –ü—É—Ç—å –º–∞—Ä—à—Ä—É—Ç–∞
- `handler` (Function): –§—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫

**–ü—Ä–∏–º–µ—Ä:**
```javascript
router.register('GET', '/users/:id', (req, res) => {
  const userId = req.params.id;
  // –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–∞
});
```

#### find(method, url)
–ò—â–µ—Ç –º–∞—Ä—à—Ä—É—Ç –ø–æ –º–µ—Ç–æ–¥—É –∏ URL.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `method` (String): HTTP-–º–µ—Ç–æ–¥
- `url` (String): URL –∑–∞–ø—Ä–æ—Å–∞

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** Object|null - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–∞—Ä—à—Ä—É—Ç–µ –∏–ª–∏ null

**–ü—Ä–∏–º–µ—Ä:**
```javascript
const match = router.find('GET', '/users/123?page=2');
// match = {
//   handler: Function,
//   params: { id: '123' },
//   query: { page: '2' }
// }
```

## üì® –ö–ª–∞—Å—Å Request

### –°–≤–æ–π—Å—Ç–≤–∞

#### params
–û–±—ä–µ–∫—Ç —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∏–∑ –ø—É—Ç–∏.

**–ü—Ä–∏–º–µ—Ä:**
```javascript
// –î–ª—è –ø—É—Ç–∏ /users/123
console.log(req.params.id); // '123'
```

#### query
–û–±—ä–µ–∫—Ç —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∏–∑ query-—Å—Ç—Ä–æ–∫–∏.

**–ü—Ä–∏–º–µ—Ä:**
```javascript
// –î–ª—è URL /search?q=test&page=2
console.log(req.query.q); // 'test'
console.log(req.query.page); // '2'
```

#### body
–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (–∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–∞—Ä—Å–∏–Ω–≥–∞).

**–ü—Ä–∏–º–µ—Ä:**
```javascript
// –ü–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è bodyParser
console.log(req.body.name); // 'John'
```

### –ú–µ—Ç–æ–¥—ã

#### parseBody(options)
–ü–∞—Ä—Å–∏—Ç —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `options` (Object): –û–ø—Ü–∏–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞
  - `limit` (Number): –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ç–µ–ª–∞ –≤ –±–∞–π—Ç–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 1MB)
  - `type` (String): –¢–∏–ø –ø–∞—Ä—Å–∏–Ω–≥–∞ ('auto', 'json', 'text', 'urlencoded')

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** Promise

**–ü—Ä–∏–º–µ—Ä:**
```javascript
const body = await req.parseBody({ limit: 1024 * 1024 }); // 1MB
```

## üì§ –ö–ª–∞—Å—Å Response

### –ú–µ—Ç–æ–¥—ã

#### status(code)
–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `code` (Number): HTTP-—Å—Ç–∞—Ç—É—Å

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** Response (–¥–ª—è —Ü–µ–ø–æ—á–∫–∏ –≤—ã–∑–æ–≤–æ–≤)

**–ü—Ä–∏–º–µ—Ä:**
```javascript
res.status(201).json({ success: true });
```

#### json(data)
–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç JSON-–æ—Ç–≤–µ—Ç.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `data` (Any): –î–∞–Ω–Ω—ã–µ –¥–ª—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ JSON

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** Response (–¥–ª—è —Ü–µ–ø–æ—á–∫–∏ –≤—ã–∑–æ–≤–æ–≤)

**–ü—Ä–∏–º–µ—Ä:**
```javascript
res.json({ users: [] });
```

#### send(data)
–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç–≤–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `data` (Any): –î–∞–Ω–Ω—ã–µ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** Response (–¥–ª—è —Ü–µ–ø–æ—á–∫–∏ –≤—ã–∑–æ–≤–æ–≤)

**–ü—Ä–∏–º–µ—Ä:**
```javascript
res.send('Hello World');
res.send({ success: true }); // –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ JSON
```

## üîß Middleware

### bodyParser(options)
Middleware –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `options` (Object): –û–ø—Ü–∏–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞
  - `limit` (Number): –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ç–µ–ª–∞ –≤ –±–∞–π—Ç–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 1MB)
  - `extended` (Boolean): –î–ª—è URL-encoded –ø–∞—Ä—Å–∏–Ω–≥–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: false)
  - `strict` (Boolean): –°—Ç—Ä–æ–≥–∏–π —Ä–µ–∂–∏–º –¥–ª—è JSON (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: true)

**–ü—Ä–∏–º–µ—Ä:**
```javascript
const bodyParser = require('./core/middleware/bodyParser');
app.use(bodyParser({ limit: 2 * 1024 * 1024 })); // 2MB
```

### errorHandler(options)
Middleware –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `options` (Object): –û–ø—Ü–∏–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞
  - `logger` (Function): –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: console.error)
  - `hideMessageInProd` (Boolean): –°–∫—Ä—ã–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –≤ production (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: true)
  - `hideStackInProd` (Boolean): –°–∫—Ä—ã–≤–∞—Ç—å —Å—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤ –≤ production (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: true)

**–ü—Ä–∏–º–µ—Ä:**
```javascript
const { errorHandler } = require('./core/middleware/errorHandler');
app.use(errorHandler({ logger: customLogger }));
```

### createError(status, message, originalError)
–§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è HTTP-–æ—à–∏–±–æ–∫.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `status` (Number): HTTP-—Å—Ç–∞—Ç—É—Å –æ—à–∏–±–∫–∏
- `message` (String): –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
- `originalError` (Error): –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** Error

**–ü—Ä–∏–º–µ—Ä:**
```javascript
const { createError } = require('./core/middleware/errorHandler');
if (!user) {
  return next(createError(404, '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω'));
}
```

## üõ†Ô∏è –£—Ç–∏–ª–∏—Ç—ã

### FileManager

#### –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
```javascript
const { FileManager } = require('./lib/fileManager');
const fileManager = new FileManager(basePath, options);
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `basePath` (String): –ë–∞–∑–æ–≤–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: process.cwd())
- `options` (Object): –û–ø—Ü–∏–∏
  - `strict` (Boolean): –ó–∞–ø—Ä–µ—Ç –≤—ã—Ö–æ–¥–∞ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã basePath (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: false)

#### –ú–µ—Ç–æ–¥—ã

##### readJSON(filePath)
–ß–∏—Ç–∞–µ—Ç JSON —Ñ–∞–π–ª.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `filePath` (String): –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** Promise<Array>

##### writeJSON(filePath, data)
–ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ JSON —Ñ–∞–π–ª.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `filePath` (String): –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É
- `data` (Array): –î–∞–Ω–Ω—ã–µ –¥–ª—è –∑–∞–ø–∏—Å–∏

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** Promise

##### findById(filePath, id)
–ò—â–µ—Ç —ç–ª–µ–º–µ–Ω—Ç –ø–æ ID.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `filePath` (String): –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É
- `id` (String|Number): ID —ç–ª–µ–º–µ–Ω—Ç–∞

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** Promise<Object|null>

##### create(filePath, item)
–°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `filePath` (String): –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É
- `item` (Object): –î–∞–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç–∞

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** Promise<Object>

##### update(filePath, id, updates)
–û–±–Ω–æ–≤–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `filePath` (String): –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É
- `id` (String|Number): ID —ç–ª–µ–º–µ–Ω—Ç–∞
- `updates` (Object): –î–∞–Ω–Ω—ã–µ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** Promise<Object|null>

##### delete(filePath, id)
–£–¥–∞–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `filePath` (String): –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É
- `id` (String|Number): ID —ç–ª–µ–º–µ–Ω—Ç–∞

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** Promise<Boolean>

### DataGenerator

#### –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
```javascript
const { DataGenerator } = require('./lib/dataGenerator');
const generator = new DataGenerator(options);
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `options` (Object): –û–ø—Ü–∏–∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞
  - `maxDepth` (Number): –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥–ª—É–±–∏–Ω–∞ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 5)

#### –ú–µ—Ç–æ–¥—ã

##### generate(schema, count)
–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ —Å—Ö–µ–º–µ.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `schema` (Object): –°—Ö–µ–º–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- `count` (Number): –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 1)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** Object|Array

**–ü—Ä–∏–º–µ—Ä:**
```javascript
const { dataGenerator } = require('./lib/dataGenerator');
const users = dataGenerator.generate({
  name: { type: 'string', min: 3, max: 10 },
  age: { type: 'number', min: 18, max: 99 },
  active: 'boolean'
}, 10);
```
