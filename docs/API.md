
# üîß –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ API

## üìã –û–±–∑–æ—Ä

–í —ç—Ç–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–µ –æ–ø–∏—Å–∞–Ω—ã –≤—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ API —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞, –≤–∫–ª—é—á–∞—è –º–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–æ–≤, middleware –∏ —É—Ç–∏–ª–∏—Ç—ã.

## üèóÔ∏è –ö–ª–∞—Å—Å App

–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —É–ø—Ä–∞–≤–ª—è—é—â–∏–π —Å–µ—Ä–≤–µ—Ä–æ–º, middleware –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–µ–π.

### –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
```javascript
const App = require('./core/App');
const app = new App();
```

### –ú–µ—Ç–æ–¥—ã

#### use(middleware)
–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω–æ–µ middleware. –§—É–Ω–∫—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ –ø–æ—Ä—è–¥–∫–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–¥ –ø–æ–∏—Å–∫–æ–º –º–∞—Ä—à—Ä—É—Ç–∞.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `middleware` (Function): –§—É–Ω–∫—Ü–∏—è middleware `(req, res, next) => void`

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `App` (–¥–ª—è —Ü–µ–ø–æ—á–∫–∏ –≤—ã–∑–æ–≤–æ–≤)

**–ü—Ä–∏–º–µ—Ä:**
```javascript
app.use((req, res, next) => {
  console.log(`–ó–∞–ø—Ä–æ—Å: ${req.method} ${req.url}`);
  next();
});
```

#### setErrorHandler(handler)
–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∫–∞—Å—Ç–æ–º–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫ –¥–ª—è –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ï—Å–ª–∏ —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –≤—ã–∑–≤–∞–Ω, –æ—à–∏–±–∫–∏ –≤ —Ä–æ—É—Ç–∞—Ö –∏ middleware –±—É–¥—É—Ç –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å—Å—è –∏–º.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `handler` (Function): –§—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `(err, req, res, next) => void`

**–ü—Ä–∏–º–µ—Ä:**
```javascript
const { errorHandler } = require('./core/middleware/errorHandler');
app.setErrorHandler(errorHandler({ 
  logger: console.error, 
  hideStackInProd: true 
}));
```

#### get(path, handler)
–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è GET-–∑–∞–ø—Ä–æ—Å–æ–≤.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `path` (String): –ü—É—Ç—å –º–∞—Ä—à—Ä—É—Ç–∞
- `handler` (Function): –§—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `(req, res) => void` –∏–ª–∏ `(req, res, next) => void`

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `App`

#### post(path, handler)
–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è POST-–∑–∞–ø—Ä–æ—Å–æ–≤.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `path` (String): –ü—É—Ç—å –º–∞—Ä—à—Ä—É—Ç–∞
- `handler` (Function): –§—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `App`

#### put(path, handler)
–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è PUT-–∑–∞–ø—Ä–æ—Å–æ–≤.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `path` (String): –ü—É—Ç—å –º–∞—Ä—à—Ä—É—Ç–∞
- `handler` (Function): –§—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `App`

#### patch(path, handler)
–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è PATCH-–∑–∞–ø—Ä–æ—Å–æ–≤.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `path` (String): –ü—É—Ç—å –º–∞—Ä—à—Ä—É—Ç–∞
- `handler` (Function): –§—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `App`

#### delete(path, handler)
–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è DELETE-–∑–∞–ø—Ä–æ—Å–æ–≤.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `path` (String): –ü—É—Ç—å –º–∞—Ä—à—Ä—É—Ç–∞
- `handler` (Function): –§—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `App`

#### listen(port, callback)
–ó–∞–ø—É—Å–∫–∞–µ—Ç HTTP-—Å–µ—Ä–≤–µ—Ä –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω–æ–º –ø–æ—Ä—Ç—É.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `port` (Number): –ü–æ—Ä—Ç –¥–ª—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è
- `callback` (Function): –§—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ `() => void`

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `http.Server` (–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Å—Ç–∞–Ω—Å –Ω–∞—Ç–∏–≤–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ Node.js)

**–ü—Ä–∏–º–µ—Ä:**
```javascript
app.listen(3000, () => {
  console.log('–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 3000');
});
```

#### setTimeout(ms)
–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ç–∞–π–º–∞—É—Ç –ø—Ä–æ—Å—Ç–æ—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (–∫–æ–≥–¥–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç–æ, –Ω–æ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è).

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `ms` (Number): –¢–∞–π–º–∞—É—Ç –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 2 –º–∏–Ω—É—Ç—ã)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `App`

#### close(callback)
–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç HTTP-—Å–µ—Ä–≤–µ—Ä, –∑–∞–∫—Ä—ã–≤–∞—è –≤—Å–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `callback` (Function): –§—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ `(err) => void`

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `App`

---

## üß© –ö–ª–∞—Å—Å Router

–ú–æ—â–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –ø—É—Ç–∏ –∏ query-—Å—Ç—Ä–æ–∫–∏.

### –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
```javascript
const Router = require('./core/Router');
const router = new Router();
```

### –ú–µ—Ç–æ–¥—ã

#### register(method, path, handler)
–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –º–∞—Ä—à—Ä—É—Ç.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `method` (String): HTTP-–º–µ—Ç–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 'GET', 'POST')
- `path` (String): –ü—É—Ç—å –º–∞—Ä—à—Ä—É—Ç–∞ (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä, '/users/:id')
- `handler` (Function): –§—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫

**–ü—Ä–∏–º–µ—Ä:**
```javascript
router.register('GET', '/users/:id', (req, res) => {
  const userId = req.params.id;
  // ...
});
```

#### find(method, url)
–ò—â–µ—Ç –º–∞—Ä—à—Ä—É—Ç –ø–æ –º–µ—Ç–æ–¥—É –∏ URL. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç —Å –¥–∞–Ω–Ω—ã–º–∏ –æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `method` (String): HTTP-–º–µ—Ç–æ–¥
- `url` (String): URL –∑–∞–ø—Ä–æ—Å–∞

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `Object|null` 
- `handler` (Function): –ù–∞–π–¥–µ–Ω–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
- `params` (Object): –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—É—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `{ id: '123' }`)
- `query` (Object): Query-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `{ page: '2' }`)

**–ü—Ä–∏–º–µ—Ä:**
```javascript
const match = router.find('GET', '/users/123?page=2');
// match = {
//   handler: [Function],
//   params: { id: '123' },
//   query: { page: '2' }
// }
```

---

## üì® –ö–ª–∞—Å—Å Request

–û–±–µ—Ä—Ç–∫–∞ –Ω–∞–¥ –Ω–∞—Ç–∏–≤–Ω—ã–º `http.IncomingMessage`.

### –°–≤–æ–π—Å—Ç–≤–∞

#### params
–û–±—ä–µ–∫—Ç —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏, –∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã–º–∏ –∏–∑ –ø—É—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `:id`).

**–ü—Ä–∏–º–µ—Ä:**
```javascript
// –î–ª—è –ø—É—Ç–∏ /users/123
console.log(req.params.id); // '123'
```

#### query
–û–±—ä–µ–∫—Ç —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∏–∑ query-—Å—Ç—Ä–æ–∫–∏.

**–ü—Ä–∏–º–µ—Ä:**
```javascript
// –î–ª—è URL /search?q=test&page=2
console.log(req.query.q); // 'test'
console.log(req.query.page); // '2'
```

#### body
–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (–∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ —Ä–∞–±–æ—Ç—ã `bodyParser`).

**–ü—Ä–∏–º–µ—Ä:**
```javascript
// –ü–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è bodyParser
console.log(req.body.name); // 'John'
```

### –ú–µ—Ç–æ–¥—ã

#### parseBody(options)
–Ø–≤–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞. –û–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ `bodyParser` middleware.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `options` (Object): –û–ø—Ü–∏–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞
  - `limit` (Number): –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ç–µ–ª–∞ –≤ –±–∞–π—Ç–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 1MB)
  - `type` (String): –¢–∏–ø –ø–∞—Ä—Å–∏–Ω–≥–∞ ('auto', 'json', 'text', 'urlencoded')

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `Promise`

---

## üì§ –ö–ª–∞—Å—Å Response

–û–±–µ—Ä—Ç–∫–∞ –Ω–∞–¥ –Ω–∞—Ç–∏–≤–Ω—ã–º `http.ServerResponse`.

### –ú–µ—Ç–æ–¥—ã

#### status(code)
–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `code` (Number): HTTP-—Å—Ç–∞—Ç—É—Å (100-599)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `Response` (–¥–ª—è —Ü–µ–ø–æ—á–∫–∏ –≤—ã–∑–æ–≤–æ–≤)

**–ü—Ä–∏–º–µ—Ä:**
```javascript
res.status(201).json({ success: true });
```

#### json(data)
–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç JSON-–æ—Ç–≤–µ—Ç. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Content-Type: application/json`.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `data` (Any): –î–∞–Ω–Ω—ã–µ –¥–ª—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ JSON

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `Response`

**–ü—Ä–∏–º–µ—Ä:**
```javascript
res.json({ users: [] });
```

#### send(data)
–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç–≤–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤. –û–±—ä–µ–∫—Ç—ã –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—Ç—Å—è –≤ JSON, —Å—Ç—Ä–æ–∫–∏ ‚Äî –≤ —Ç–µ–∫—Å—Ç.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `data` (Any): –î–∞–Ω–Ω—ã–µ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `Response`

**–ü—Ä–∏–º–µ—Ä:**
```javascript
res.send('Hello World');
res.send({ success: true }); // –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ
```

---

## üîß Middleware

### bodyParser(options)
Middleware –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `options` (Object): –û–ø—Ü–∏–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞
  - `limit` (Number): –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ç–µ–ª–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 1MB)
  - `extended` (Boolean): –î–ª—è URL-encoded –ø–∞—Ä—Å–∏–Ω–≥–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: false)
  - `strict` (Boolean): –°—Ç—Ä–æ–≥–∏–π —Ä–µ–∂–∏–º –¥–ª—è JSON (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: true)

**–ü—Ä–∏–º–µ—Ä:**
```javascript
const bodyParser = require('./core/middleware/bodyParser');
app.use(bodyParser({ limit: '2mb' }));
```

### errorHandler(options)
–§–∞–±—Ä–∏–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è middleware, –∫–æ—Ç–æ—Ä–∞—è –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ –≤–æ –≤—Å–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `options` (Object): –û–ø—Ü–∏–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞
  - `logger` (Function): –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: console.error)
  - `hideMessageInProd` (Boolean): –°–∫—Ä—ã–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –≤ production (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: true)
  - `hideStackInProd` (Boolean): –°–∫—Ä—ã–≤–∞—Ç—å —Å—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤ –≤ production (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: true)

**–ü—Ä–∏–º–µ—Ä:**
```javascript
const { errorHandler } = require('./core/middleware/errorHandler');
app.setErrorHandler(errorHandler({ logger: customLogger }));
```

### createError(status, message, originalError)
–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –æ—à–∏–±–æ–∫ —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ HTTP —Å—Ç–∞—Ç—É—Å–∞–º.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `status` (Number): HTTP-—Å—Ç–∞—Ç—É—Å –æ—à–∏–±–∫–∏
- `message` (String): –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
- `originalError` (Error): –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `Error`

**–ü—Ä–∏–º–µ—Ä:**
```javascript
const { createError } = require('./core/middleware/errorHandler');
if (!user) {
  return next(createError(404, '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω'));
}
```

---

## üõ†Ô∏è –£—Ç–∏–ª–∏—Ç—ã

### FileManager
–ö–ª–∞—Å—Å –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å JSON-—Ñ–∞–π–ª–∞–º–∏ –∫–∞–∫ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—Ç–æ–º–∞—Ä–Ω—É—é –∑–∞–ø–∏—Å—å –∏ –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—é ID.

#### –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
```javascript
const { FileManager } = require('./lib/fileManager');
const fileManager = new FileManager(basePath, options);
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `basePath` (String): –ë–∞–∑–æ–≤–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `process.cwd()`)
- `options` (Object): –û–ø—Ü–∏–∏
  - `strict` (Boolean): –ó–∞–ø—Ä–µ—Ç –≤—ã—Ö–æ–¥–∞ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã `basePath` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: false)

#### –ú–µ—Ç–æ–¥—ã

##### readJSON(filePath)
–ß–∏—Ç–∞–µ—Ç JSON —Ñ–∞–π–ª. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤, –µ—Å–ª–∏ —Ñ–∞–π–ª –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** `filePath` (String)
**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `Promise<Array>`

##### writeJSON(filePath, data)
–ê—Ç–æ–º–∞—Ä–Ω–æ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ JSON —Ñ–∞–π–ª (—á–µ—Ä–µ–∑ –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª). –ü—Ä–∏ –æ—à–∏–±–∫–µ –æ—á–∏—â–∞–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** `filePath` (String), `data` (Array)
**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `Promise<void>`

##### findById(filePath, id)
–ò—â–µ—Ç —ç–ª–µ–º–µ–Ω—Ç –ø–æ ID.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** `filePath` (String), `id` (String|Number)
**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `Promise<Object|null>`

##### create(filePath, item)
–°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç `id`, `createdAt`, `updatedAt`.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** `filePath` (String), `item` (Object)
**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `Promise<Object>`

##### update(filePath, id, updates)
–û–±–Ω–æ–≤–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç –ø–æ ID. –û–±–Ω–æ–≤–ª—è–µ—Ç –ø–æ–ª–µ `updatedAt`.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** `filePath` (String), `id` (String|Number), `updates` (Object)
**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `Promise<Object|null>`

##### delete(filePath, id)
–£–¥–∞–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç –ø–æ ID.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** `filePath` (String), `id` (String|Number)
**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `Promise<boolean>` (true –µ—Å–ª–∏ —É–¥–∞–ª–µ–Ω, false –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω)

---

### DataGenerator
–£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ö–µ–º—ã.

#### –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
```javascript
const { DataGenerator } = require('./lib/dataGenerator');
const generator = new DataGenerator(options);
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `options` (Object): –û–ø—Ü–∏–∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞
  - `maxDepth` (Number): –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥–ª—É–±–∏–Ω–∞ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 5)

#### –ú–µ—Ç–æ–¥—ã

##### generate(schema, count)
–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ —Å—Ö–µ–º–µ.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `schema` (Object): –°—Ö–µ–º–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- `count` (Number): –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 1)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `Object|Array`

**–ü—Ä–∏–º–µ—Ä:**
```javascript
const { dataGenerator } = require('./lib/dataGenerator');
const users = dataGenerator.generate({
  name: { type: 'string', min: 3, max: 10 },
  age: { type: 'number', min: 18, max: 99 },
  active: 'boolean'
}, 10);
```
